# T3.2 – Mindesthistorie-Gate implementieren

**Quelle:** `docs/v2/30_IMPLEMENTATION_TICKETS.md` (Canonical, Stand: 2026-02-18)  
**Erstellt am:** 2026-02-19

## Ziel

Implementiere Mindesthistorie-Gate (1D/4H) vor Feature-Berechnung.

## Anforderungen (aus Canonical)
- `min_history_*` aus `config/config.yml` pro Setup (Breakout, Pullback, Reversal) lesen.
- Vor Feature-Berechnung prüfen: genügend abgeschlossene 1D- und 4H-Kerzen.
- Falls nicht: `is_valid_setup=False`, `reason_invalid="insufficient history"`.
- Solche Setups dürfen nicht in Top-10/Global Top-20.
- Unit- und Golden-Tests gemäß `40_TEST_FIXTURES_VALIDATION` („Historie-Gate“).

## Akzeptanzkriterien
- Gate greift vor Feature-Berechnung (keine Exceptions/NaNs).
- `reason_invalid` konsistent gesetzt.
- Ranking/Exports filtern invalide Setups zuverlässig.
- Tests für valide/invalide Historie (1D und 4H).

## Relevante Dateien
- Config Loader + Setup-Konfig
- Candle History Loader
- Setup Feature Pipeline
- Ranking/Export Filter

## Vorgehen
1. Parameter aus Config einführen/lesen.
2. Candle-Counts prüfen (completed candles).
3. Flags setzen und Pipeline abbrechen.
4. Filter sicherstellen (Setup Top-10 + Global).
5. Tests (Unit + Golden).


## Abschluss- und Archiv-Schritt (Pflicht)
Nach Merge/Abschluss dieses Tickets:
1. Verschiebe **diese** Ticket-Datei nach `docs/legacy/tickets/` (gleicher Dateiname).
2. Falls du in `docs/v2/30_IMPLEMENTATION_TICKETS.md` einen Status-Abschnitt führst: Ticket dort als „done“ markieren (optional, nur wenn ihr das so nutzt).
