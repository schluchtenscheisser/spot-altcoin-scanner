# T2.3 – Slippage-Berechnung (20k USDT default)

**Quelle:** `docs/v2/30_IMPLEMENTATION_TICKETS.md` (Canonical, Stand: 2026-02-18)  
**Erstellt am:** 2026-02-19

## Ziel

Implementiere die Slippage- und Spread-Berechnung aus Orderbook-Daten und leite daraus eine `liquidity_grade` ab.

## Anforderungen (aus Canonical)
- Notional default: 20k USDT
- Mid aus best bid/ask
- VWAP_ask bis Notional erfüllt
- Output `slippage_bps`, `spread_bps` (oder pct) + `liquidity_grade`
- `liquidity_grade D` = Hard Exclude

## Akzeptanzkriterien
- Slippage/Spread korrekt berechnet, inkl. Edge Cases (unzureichende Tiefe).
- `liquidity_grade` deterministisch gemäß Spec.
- Grade D führt zu Hard-Exclude-Markierung und wird in Rankings/Toplisten ausgeschlossen (mind. vorbereitet).

## Relevante Dateien
- Orderbook Modelle/Parser
- Liquidity Stage Engine
- Ranking/Filter Layer

## Vorgehen
1. VWAP(ask) bis Notional implementieren.
2. Mid und Spread berechnen.
3. Slippage berechnen.
4. Grade ableiten; D => Hard-Exclude Flag setzen.
5. Tests (Unit + Golden).


## Abschluss- und Archiv-Schritt (Pflicht)
Nach Merge/Abschluss dieses Tickets:
1. Verschiebe **diese** Ticket-Datei nach `docs/legacy/tickets/` (gleicher Dateiname).
2. Falls du in `docs/v2/30_IMPLEMENTATION_TICKETS.md` einen Status-Abschnitt führst: Ticket dort als „done“ markieren (optional, nur wenn ihr das so nutzt).
