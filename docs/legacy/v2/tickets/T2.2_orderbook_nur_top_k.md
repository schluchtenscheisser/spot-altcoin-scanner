# T2.2 – Orderbook nur Top-K (Default K=200)

**Quelle:** `docs/v2/30_IMPLEMENTATION_TICKETS.md` (Canonical, Stand: 2026-02-18)  
**Erstellt am:** 2026-02-19

## Ziel

Beschränke Orderbook-/Slippage-Berechnungen auf die Top-K Symbole nach Proxy-Liquidity.

## Anforderungen (aus Canonical)
- config: `liquidity.orderbook_top_k` (Default K=200)
- Orderbook/Slippage nur für Top-K
- fehlende Slippage = None

## Akzeptanzkriterien
- Config-Parameter existiert und wird gelesen (Default 200).
- Orderbook/Slippage nur Top-K; Rest hat `slippage=None`.
- Keine unnötigen Orderbook-Calls für Nicht-Top-K.
- Tests: Budget/Call-Count und None-Semantik.

## Relevante Dateien
- Config Loader (`config/config.yml`)
- Orderbook Fetcher
- Liquidity Stage / Pipeline

## Vorgehen
1. Parameter einführen/auslesen.
2. Universe nach Proxy-Liquidity sortieren, Top-K bestimmen.
3. Orderbook/Slippage nur für Top-K; Rest Felder None.
4. Tests inkl. Budget-Test (T8.2).


## Abschluss- und Archiv-Schritt (Pflicht)
Nach Merge/Abschluss dieses Tickets:
1. Verschiebe **diese** Ticket-Datei nach `docs/legacy/tickets/` (gleicher Dateiname).
2. Falls du in `docs/v2/30_IMPLEMENTATION_TICKETS.md` einen Status-Abschnitt führst: Ticket dort als „done“ markieren (optional, nur wenn ihr das so nutzt).
